// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource kclhack2024database {
  provider = "postgresql"
  url      = env("NEXT_PUBLIC_DATABASE_URL")
}

//企業情報保存のデータベース
model Company {
  corporateNumber              String   @id @unique  // 法人番号: 企業の一意の識別子。
  name                         String   // 企業名: 企業を識別するための基本情報。
  kana                         String?  // 企業名のフリガナ: 企業名の読み仮名。
  representativeName           String?  // 代表者名: 企業の代表者情報。
  postalCode                   String?  // 郵便番号: 企業の所在地の郵便番号。
  location                     String?  // 所在地: 企業の所在地（住所）。
  status                       String?  // ステータス: 企業の状態（例：営業中、解散等）。
  capitalStock                 BigInt?  // 資本金: 企業の財務規模を示す指標。
  employeeNumber               Int?     // 従業員数: 企業の規模を把握するための指標。
  businessItems                String[] // 業種コード: 企業の事業内容を示すコードリスト。
  businessSummary              String?  // 事業概要: 企業が行っている事業の概要。
  companyUrl                   String?  // 企業URL: 企業の公式ウェブサイトのURL。
  dateOfEstablishment          DateTime?// 設立日: 企業が設立された日付。
  averageContinuousServiceYears Float?  // 平均継続勤務年数: 従業員の平均勤務年数を示す。
  averageAge                   Float?   // 従業員の平均年齢: 職場の年齢構成を理解するための指標。
  femaleWorkersProportion      Float?   // 女性労働者の割合: 女性の雇用割合を示す。
  updateDate                   DateTime?// 更新日: 情報が最後に更新された日付。
  workplaceInfo                WorkplaceInfo? 
}

model WorkplaceInfo {
  corporateNumber              String   @id  // 法人番号: Companyモデルとのリレーション用。
  averageAge                   Float?   // 従業員の平均年齢。
  averageContinuousServiceYears Float?  // 平均継続勤務年数。
  averageContinuousServiceYearsFemale Float? // 女性従業員の平均継続勤務年数。
  averageContinuousServiceYearsMale   Float? // 男性従業員の平均継続勤務年数。
  monthAveragePredeterminedOvertimeHours Float? // 月平均所定外労働時間。
  femaleWorkersProportionType  String?  // 女性労働者の割合のタイプ。
  femaleShareOfManager         Float?   // 女性管理職の割合。
  femaleShareOfOfficers        Float?   // 女性役員の割合。
  genderTotalOfManager         Int?     // 管理職の総数。
  genderTotalOfOfficers        Int?     // 役員の総数。
  company                      Company  @relation(fields: [corporateNumber], references: [corporateNumber]) // Companyモデルとのリレーション。
}
